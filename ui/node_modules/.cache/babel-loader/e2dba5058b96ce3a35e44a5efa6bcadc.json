{"ast":null,"code":"var _jsxFileName = \"/home/thai/project/banhang/ui/src/containers/desktop/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { CHANGE_LOGIN_STATE } from '../../constants/ActionTypes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction loginUser(credentials) {\n  return axios.post('/api/v1/auth/login', credentials).then(response => response.data.accessToken);\n}\n\nconst Login = ({\n  changeLoginState,\n  setCredentials\n}) => {\n  _s();\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isLogined, setIsLogined] = useState(false);\n\n  const checkAccount = () => {\n    if (isLogined) {\n      if (isSuccess) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 16\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sai email ho\\u1EB7c m\\u1EADt kh\\u1EA9u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 14\n      }, this);\n    }\n\n    return null;\n  };\n\n  const login = async e => {\n    e.preventDefault();\n\n    try {\n      const token = await loginUser({\n        email,\n        password\n      });\n      localStorage.setItem('token', token);\n      changeLoginState(true);\n      setCredentials(true);\n      setIsLogined(true);\n      setIsSuccess(true);\n    } catch (error) {\n      setIsLogined(true);\n      setIsSuccess(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Div, {\n        children: /*#__PURE__*/_jsxDEV(Span, {\n          children: \"\\u0110\\u1EC3 xem \\u0111\\u01A1n h\\xE0ng vui l\\xF2ng nh\\u1EADp Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        children: /*#__PURE__*/_jsxDEV(Span, {\n          children: \"Nh\\u1EADp Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: login,\n          children: \"\\u0110\\u0103ng Nh\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), checkAccount(), /*#__PURE__*/_jsxDEV(Div, {\n        children: /*#__PURE__*/_jsxDEV(Span, {\n          children: \"B\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: \"\\u0110\\u0103ng K\\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}; // Redux\n\n\n_s(Login, \"ldZXrKPCk8sh0TXdVkhnNArj+hQ=\");\n\n_c = Login;\n\nconst mapStateToProps = state => {\n  return state;\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeLoginState: () => {\n      dispatch({\n        type: CHANGE_LOGIN_STATE\n      });\n    },\n    setCredentials: () => {\n      dispatch({\n        type: 'SET_CREDENTIALS_ASYNC'\n      });\n    }\n  };\n}; // Styled\n\n\nconst Div = styled.div`\n  padding: 8px;\n`;\n_c2 = Div;\nconst Input = styled.input`\n  width: 310px;\n`;\n_c3 = Input;\nconst Button = styled.button`\n  width: 310px;\n  border: 0;\n  background-color: #008848;\n  color: #fff;\n  border-radius: 4px;\n  text-transform: uppercase;\n`;\n_c4 = Button;\nconst Form = styled.form`\n  position: absolute;\n  top: 10%;\n  left: 20%;\n`;\n_c5 = Form;\nconst Span = styled.span`\n  font-size: 18px;\n  color: #000;\n`;\n_c6 = Span;\nconst Container = styled.div`\n  position: relative;\n  margin: 80px 0 0 350px;\n  background-color: #e9edf0;\n  width: 600px;\n  height: 400px;\n`;\n_c7 = Container;\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"Div\");\n$RefreshReg$(_c3, \"Input\");\n$RefreshReg$(_c4, \"Button\");\n$RefreshReg$(_c5, \"Form\");\n$RefreshReg$(_c6, \"Span\");\n$RefreshReg$(_c7, \"Container\");","map":{"version":3,"sources":["/home/thai/project/banhang/ui/src/containers/desktop/Login.js"],"names":["React","useState","useEffect","connect","styled","axios","Redirect","CHANGE_LOGIN_STATE","loginUser","credentials","post","then","response","data","accessToken","Login","changeLoginState","setCredentials","email","setEmail","password","setPassword","isSuccess","setIsSuccess","isLogined","setIsLogined","checkAccount","login","e","preventDefault","token","localStorage","setItem","error","target","value","mapStateToProps","state","mapDispatchToProps","dispatch","type","Div","div","Input","input","Button","button","Form","form","Span","span","Container"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { CHANGE_LOGIN_STATE } from '../../constants/ActionTypes';\n\nfunction loginUser(credentials) {\n  return axios\n    .post('/api/v1/auth/login', credentials)\n    .then((response) => response.data.accessToken);\n}\n\nconst Login = ({ changeLoginState, setCredentials }) => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isLogined, setIsLogined] = useState(false);\n\n  const checkAccount = () => {\n    if (isLogined) {\n      if (isSuccess) {\n        return <Redirect to=\"/\" />;\n      }\n      return <h2>Sai email hoặc mật khẩu</h2>;\n    }\n    return null;\n  };\n\n  const login = async (e) => {\n    e.preventDefault();\n    try {\n      const token = await loginUser({\n        email,\n        password,\n      });\n      localStorage.setItem('token', token);\n      changeLoginState(true);\n      setCredentials(true);\n      setIsLogined(true);\n      setIsSuccess(true);\n    } catch (error) {\n      setIsLogined(true);\n      setIsSuccess(false);\n    }\n  };\n\n  return (\n    <Container>\n      <Form>\n        <Div>\n          <Span>Để xem đơn hàng vui lòng nhập Email:</Span>\n        </Div>\n        <Div>\n          <Input type=\"email\" onChange={(e) => setEmail(e.target.value)} />\n        </Div>\n        <Div>\n          <Span>Nhập Password:</Span>\n        </Div>\n        <Div>\n          <Input\n            type=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Div>\n        <Div>\n          <Button onClick={login}>Đăng Nhập</Button>\n        </Div>\n        {checkAccount()}\n        <Div>\n          <Span>Bạn chưa có tài khoản?</Span>\n        </Div>\n        <Div>\n          <Button>Đăng Ký</Button>\n        </Div>\n      </Form>\n    </Container>\n  );\n};\n\n// Redux\nconst mapStateToProps = (state) => {\n  return state;\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changeLoginState: () => {\n      dispatch({\n        type: CHANGE_LOGIN_STATE,\n      });\n    },\n    setCredentials: () => {\n      dispatch({\n        type: 'SET_CREDENTIALS_ASYNC',\n      });\n    },\n  };\n};\n\n// Styled\nconst Div = styled.div`\n  padding: 8px;\n`;\n\nconst Input = styled.input`\n  width: 310px;\n`;\n\nconst Button = styled.button`\n  width: 310px;\n  border: 0;\n  background-color: #008848;\n  color: #fff;\n  border-radius: 4px;\n  text-transform: uppercase;\n`;\n\nconst Form = styled.form`\n  position: absolute;\n  top: 10%;\n  left: 20%;\n`;\n\nconst Span = styled.span`\n  font-size: 18px;\n  color: #000;\n`;\n\nconst Container = styled.div`\n  position: relative;\n  margin: 80px 0 0 350px;\n  background-color: #e9edf0;\n  width: 600px;\n  height: 400px;\n`;\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}